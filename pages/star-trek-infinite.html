<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Star Trek: Infinite - Dylan Piserchia</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Global Styles -->
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/navbar.css">
    <link rel="stylesheet" href="../css/footer.css">

    <style>
        /* --- ESTILOS BASE (Identical to Project Shelter) --- */
        :root {
            --bg-dark: #0b0d10;
            --bg-panel: rgba(26, 29, 36, 0.6);
            --accent: #00d4ff;
            --accent-glow: rgba(0, 212, 255, 0.15);
            --text-main: #e0e0e0;
            --text-muted: #a0a0a0;
            --border-color: #2c313a;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-dark);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 212, 255, 0.03) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 212, 255, 0.03) 0%, transparent 20%);
            color: var(--text-main);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3, h4 { font-family: 'Orbitron', sans-serif; color: #fff; letter-spacing: 1px; }
        a { text-decoration: none; color: inherit; transition: 0.3s; }
        img { max-width: 100%; display: block; border-radius: 4px; }
        ul { list-style: none; }

        /* Layout Container */
        main { margin-top: 80px; padding-bottom: 12rem; }
        .container { max-width: 1600px; margin: 0 auto; padding: 0 2rem; }

        /* --- ANIMACIONES DE ENTRADA --- */
        .reveal-left, .reveal-right, .reveal-up { 
            opacity: 0; transition: all 1s cubic-bezier(0.2, 0.8, 0.2, 1); 
        }
        .reveal-left { transform: translateX(-50px); }
        .reveal-right { transform: translateX(50px); }
        .reveal-up { transform: translateY(40px); }
        .active { opacity: 1; transform: translate(0); }

        /* --- HERO SPLIT SECTION --- */
        .hero-section {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 4rem;
            align-items: center;
            padding: 4rem 0; 
            margin-bottom: 4rem;
        }

        .hero-content {
            padding-right: 2rem;
        }

        .project-tag {
            display: inline-block;
            background: var(--accent-glow);
            color: var(--accent);
            padding: 5px 12px;
            border-radius: 2px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 1.5rem;
            border-left: 3px solid var(--accent);
        }

        .hero-title {
            font-size: 4rem;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            background: linear-gradient(to right, #fff, #a0a0a0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-description {
            font-size: 1.25rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
            border-left: 1px solid var(--border-color);
            padding-left: 1.5rem;
        }

        /* Awards & Steam Buttons */
        .action-buttons {
            display: flex; gap: 1rem; margin-bottom: 2.5rem; flex-wrap: wrap;
        }
        .btn {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 12px 28px; border-radius: 4px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; font-size: 0.85rem;
            background: transparent; border: 1px solid var(--border-color); color: #fff;
            transition: 0.3s;
        }
        .btn:hover { border-color: var(--accent); color: var(--accent); background: rgba(0, 212, 255, 0.05); }
        .btn-primary { border-color: var(--accent); color: var(--accent); }
        .btn-primary:hover { background: var(--accent); color: #000; box-shadow: 0 0 15px var(--accent-glow); }

        /* Design Overview Dashboard */
        .mini-highlights {
            background: var(--bg-panel);
            border: 1px solid var(--border-color);
            padding: 2rem;
            border-radius: 8px;
            backdrop-filter: blur(5px);
        }
        .mini-highlights h3 {
            font-size: 1.1rem; margin-bottom: 1rem; color: var(--accent);
            text-transform: uppercase; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem;
        }
        .highlight-list li {
            margin-bottom: 0.8rem;
            font-size: 0.95rem;
            position: relative;
            padding-left: 1.2rem;
            color: var(--text-main);
        }
        .highlight-list li::before {
            content: ''; position: absolute; left: 0; top: 8px;
            width: 6px; height: 6px; background: var(--accent);
            box-shadow: 0 0 5px var(--accent);
        }

        /* Hero Image */
        .hero-media-wrapper {
            position: relative; height: 100%; display: flex; align-items: center;
        }
        .hero-image {
            width: 100%; border-radius: 12px; overflow: hidden;
            box-shadow: -20px 20px 60px rgba(0,0,0,0.5);
            border: 1px solid rgba(255,255,255,0.1);
            cursor: pointer; transition: transform 0.5s ease;
        }
        .hero-image:hover { transform: scale(1.02); border-color: var(--accent); }

        /* --- DETAILED MECHANICS SECTIONS --- */
        .detail-section { margin-bottom: 8rem; }
        
        .section-header {
            margin-bottom: 3rem; display: flex; align-items: center; gap: 1rem;
        }
        .section-header h3 { font-size: 2.5rem; }
        .header-line { flex-grow: 1; height: 1px; background: linear-gradient(to right, var(--accent), transparent); }

        .section-intro {
            font-size: 1.2rem; color: var(--text-muted); margin-bottom: 3rem; max-width: 1100px;
        }
        .highlight-text { color: var(--accent); font-weight: 500; }

        /* Impact/Scope Grid (Split columns) */
        .details-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-bottom: 4rem;
        }
        .details-column h4 {
            font-size: 1.1rem; color: var(--accent); margin-bottom: 1.5rem;
            text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem;
        }
        .styled-list li {
            position: relative; padding-left: 1.5rem; margin-bottom: 1rem; color: var(--text-main); font-size: 0.95rem;
        }
        .styled-list li::before {
            content: '>'; position: absolute; left: 0; color: var(--accent); font-weight: bold; font-family: monospace;
        }

        .impact-box {
            background: rgba(0, 212, 255, 0.03);
            border: 1px solid var(--border-color);
            padding: 2rem; border-radius: 6px;
        }
        .impact-box h5 { font-size: 1rem; color: #fff; margin-bottom: 1rem; text-transform: uppercase; }
        .impact-box p { color: var(--text-muted); font-size: 0.95rem; }

        /* Section Galleries */
        .section-gallery {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 1.5rem;
        }
        .gallery-item {
            position: relative; border-radius: 8px; overflow: hidden; cursor: pointer; aspect-ratio: 16/9;
        }
        .gallery-item img {
            width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s ease; opacity: 0.8;
        }
        .gallery-item:hover img { transform: scale(1.1); opacity: 1; }
        
        .gallery-overlay {
            position: absolute; inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            opacity: 0; transition: 0.3s;
            display: flex; align-items: flex-end; justify-content: center; padding-bottom: 1.5rem;
        }
        .gallery-item:hover .gallery-overlay { opacity: 1; }
        .gallery-caption {
            color: #fff; font-family: 'Orbitron'; font-size: 0.9rem; letter-spacing: 1px;
            transform: translateY(20px); transition: 0.3s;
        }
        .gallery-item:hover .gallery-caption { transform: translateY(0); }

        .play-icon {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2.5rem; color: #fff; opacity: 0.5; transition: opacity 0.3s ease;
            z-index: 10;
            pointer-events: none;
        }
        .gallery-item:hover .play-icon { opacity: 0.8; color: var(--accent); }

        /* --- FOOTER --- */
        footer {
            border-top: 1px solid var(--border-color);
            padding: 4rem; text-align: center; color: var(--text-muted); font-size: 0.9rem;
        }

        /* --- LIGHTBOX --- */
        .lightbox {
            display: none; position: fixed; z-index: 2000;
            left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.95); backdrop-filter: blur(8px);
            justify-content: center; align-items: center;
            opacity: 0; transition: opacity 0.3s ease;
        }
        .lightbox.show { display: flex; opacity: 1; }
        .lightbox-content-wrapper {
            position: relative; display: flex; justify-content: center; align-items: center;
            max-width: 90%; max-height: 90vh; width: 100%;
        }
        .lightbox-content, .lightbox-video {
            max-width: 100%; max-height: 85vh; border-radius: 4px;
        }
        .lightbox-video { width: 80%; aspect-ratio: 16/9; background: #000; border: none; }
        
        .close-btn {
            position: absolute; top: 30px; right: 40px;
            color: #fff; font-size: 3rem; cursor: pointer; transition: 0.3s; z-index: 2005;
        }
        .close-btn:hover { color: var(--accent); transform: rotate(90deg); }

        .nav-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            background: transparent; color: rgba(255,255,255,0.5); border: none;
            font-size: 3rem; cursor: pointer; transition: 0.3s; padding: 20px;
        }
        .nav-btn:hover { color: var(--accent); opacity: 1; }
        .prev { left: 40px; } .next { right: 40px; }

        @media (max-width: 1024px) {
            .hero-section { grid-template-columns: 1fr; gap: 2rem; text-align: center; }
            .hero-content { padding-right: 0; }
            .hero-description { border-left: none; padding-left: 0; margin-left: auto; margin-right: auto; }
            .mini-highlights { text-align: left; }
            .action-buttons { justify-content: center; }
            .details-grid { grid-template-columns: 1fr; }
            .nav-links { display: none; }
        }
    </style>
</head>
<body>

    <!-- Navbar Placeholder -->
    <div id="navbar-placeholder"></div>

    <main class="container">
        
        <!-- HERO SECTION: Star Trek Portfolio Overview -->
        <section class="hero-section">
            <div class="hero-content reveal-left">
                <span class="project-tag">Grand Strategy | Paradox Interactive</span>
                <h1 class="hero-title">Star Trek: Infinite</h1>
                <p class="hero-description">
                    Contributed to the development of systemic mechanics and narrative implementation to materialize the vast Star Trek lore into a Grand Strategy experience.
                </p>

                <div class="action-buttons">
                    <a href="https://store.steampowered.com/app/1622900/Star_Trek_Infinite/" target="_blank" class="btn btn-primary">
                        <i class="fab fa-steam"></i> View on Steam
                    </a>
                    <a href="https://play.expoeva.com/eva-awards-2024" target="_blank" class="btn">
                        <i class="fas fa-trophy"></i> Best Narrative 2024
                    </a>
                </div>

                <!-- OVERVIEW DASHBOARD (As requested) -->
                <div class="mini-highlights">
                    <h3>Design Dashboard</h3>
                    <p style="margin-bottom: 1rem; color: var(--text-muted); font-size: 0.9rem;">
                        My core focus was translating complex Star Trek canon into <span style="color:var(--accent);">engaging system design, branching mission trees, and achievement structures</span>.
                    </p>
                    <ul class="highlight-list">
                        <li>
                            <strong style="color:#fff;">Mission System Architecture:</strong> A deep branching tree system that anchors the narrative progression for all major factions.
                        </li>
                        <li>
                            <strong style="color:#fff;">Canon-to-Game Translation:</strong> Transforming iconic lore moments into interactive crisis events and empire-wide mechanics.
                        </li>
                        <li>
                            <strong style="color:#fff;">System Ownership:</strong> End-to-end design and documentation for the achievement and narrative event pipelines.
                        </li>
                    </ul>
                </div>
            </div>

            <div class="hero-media-wrapper reveal-right">
                <div class="hero-image" onclick="openLightbox(this.querySelector('img'))">
                    <img src="../assets/img/STI_img1.jpg" alt="Star Trek: Infinite Main Visual" onerror="this.style.background='#222'">
                </div>
            </div>
        </section>

        <!-- SECTION 1: MISSION TREE DESIGN -->
        <section class="detail-section reveal-up">
            <div class="section-header">
                <h3>Mission Tree Design</h3>
                <div class="header-line"></div>
            </div>
            
            <p class="section-intro">
                The <span class="highlight-text">Mission Tree</span> serves as the backbone of both narrative and strategic progression. I designed and documented this system to translate complex lore into clear, engaging objectives for each faction.
            </p>

            <div class="details-grid">
                <div class="details-column">
                    <h4>Design Scope</h4>
                    <ul class="styled-list">
                        <li>Structured unique trees for the Federation, Klingon, Romulan, and Cardassian empires.</li>
                        <li>Created branching logic responding to diplomatic and military player decisions.</li>
                        <li>Translated Star Trek canon into accessible and balanced gameplay milestones.</li>
                        <li>Defined reward structures and empire modifiers to maintain gameplay pacing.</li>
                    </ul>
                </div>
                <div class="details-column">
                    <div class="impact-box">
                        <h5>Impact on Gameplay</h5>
                        <p>This system provides a narrative structure to the Grand Strategy genre. It ensures players have clear goals that feel organically integrated within the Star Trek universe, boosting long-term immersion.</p>
                    </div>
                </div>
            </div>

            <div class="section-gallery">
                <div class="gallery-item" onclick="openLightbox(this.querySelector('img'))">
                    <img 
                        src="../assets/img/UFOP_MT_01.jpg" 
                        alt="Mission Tree Walkthrough"
                        data-video="https://www.youtube.com/embed/rETvAigGmTs"
                        onerror="this.style.background='#111'">
                    <div class="play-icon"><i class="fas fa-play-circle"></i></div>
                    <div class="gallery-overlay"><span class="gallery-caption">Mission Tree Walkthrough</span></div>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.querySelector('img'))">
                    <img src="../assets/img/UFOP_MT_02.jpg" alt="Federation Mission Tree UI" onerror="this.style.background='#111'">
                    <div class="gallery-overlay"><span class="gallery-caption">Federation Tree UI</span></div>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.querySelector('img'))">
                    <img src="../assets/img/UFOP_MT_01.jpg" alt="Federation Mission Detail" onerror="this.style.background='#111'">
                    <div class="gallery-overlay"><span class="gallery-caption">Tree Detail</span></div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: NARRATIVE EVENTS -->
        <section class="detail-section reveal-up">
            <div class="section-header">
                <h3>Narrative Events</h3>
                <div class="header-line"></div>
            </div>

            <p class="section-intro">
                <span class="highlight-text">Narrative Events</span> inject dynamism and drama into the strategy. I contributed to the creation of both systemic and scripted events that challenge the player with consequential decisions.
            </p>

            <div class="details-grid">
                <div class="details-column">
                    <h4>Key Focus Areas</h4>
                    <ul class="styled-list">
                        <li>Designed branching dialogue windows with long-term empire consequences.</li>
                        <li>Adapted iconic lore moments (e.g., Romulan supernova) into interactive crisis mechanics.</li>
                        <li>Developed environmental storytelling triggers for deep-space exploration.</li>
                    </ul>
                </div>
                <div class="details-column">
                    <div class="impact-box">
                        <h5>Designing Consequences</h5>
                        <p>Each event was designed not only for its narrative value but for its systemic impact. A diplomatic choice can radically change galactic alliances, fostering high replayability.</p>
                    </div>
                </div>
            </div>

            <div class="section-gallery">
                <div class="gallery-item" onclick="openLightbox(this.querySelector('img'))">
                    <img src="../assets/img/UFOP_MT_03.jpg" alt="Narrative Interface" onerror="this.style.background='#111'">
                    <div class="gallery-overlay"><span class="gallery-caption">Event Interface</span></div>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.querySelector('img'))">
                    <img src="../assets/img/STI_img1.jpg" alt="In-game Event View" onerror="this.style.background='#111'">
                    <div class="gallery-overlay"><span class="gallery-caption">Lore Impact View</span></div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: ACHIEVEMENT SYSTEM -->
        <section class="detail-section reveal-up">
            <div class="section-header">
                <h3>Achievement System</h3>
                <div class="header-line"></div>
            </div>

            <p class="section-intro">
                I designed the full <span class="highlight-text">Achievement</span> ecosystem to reward player mastery and motivate exploration of every facet of the game, from introductory steps to complex veteran feats.
            </p>

            <div class="details-grid">
                <div class="details-column">
                    <h4>Design Principles</h4>
                    <ul class="styled-list">
                        <li>Owned the documentation and logic for the complete day-one achievement list.</li>
                        <li>Structured tiers: Progression (Intro), Strategy (Mid), and Lore Mastery (Hard).</li>
                        <li>Collaborated with tech teams to define reliable state-based trigger logic.</li>
                    </ul>
                </div>
                <div class="details-column">
                    <div class="impact-box">
                        <h5>Engagement Strategy</h5>
                        <p>Achievements serve as an implicit guide, encouraging players to try factions or riskier playstyles they might otherwise avoid, significantly extending the game's lifespan.</p>
                    </div>
                </div>
            </div>

            <div class="section-gallery">
                <div class="gallery-item" onclick="openLightbox(this.querySelector('img'))">
                    <img src="../assets/img/UFOP_MT_03.jpg" alt="Achievement List UI" onerror="this.style.background='#111'">
                    <div class="gallery-overlay"><span class="gallery-caption">Achievement UI</span></div>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.querySelector('img'))">
                    <img src="../assets/img/STI_img1.jpg" alt="Completion View" onerror="this.style.background='#111'">
                    <div class="gallery-overlay"><span class="gallery-caption">Trigger Logic Design</span></div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox(event)">
        <div class="close-btn" onclick="closeLightbox(event)">&times;</div>
        
        <button class="nav-btn prev" onclick="changeImage(-1, event)">
            <i class="fas fa-chevron-left"></i>
        </button>

        <div class="lightbox-content-wrapper">
            <img class="lightbox-content" id="lightbox-img" alt="Lightbox View" style="display: block;">
            <iframe id="lightbox-video" class="lightbox-video" style="display: none;" 
                    src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>

        <button class="nav-btn next" onclick="changeImage(1, event)">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>

    <script>
        // --- SCROLL ANIMATION OBSERVER ---
        const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.reveal-left, .reveal-right, .reveal-up').forEach(el => observer.observe(el));


        // --- LIGHTBOX LOGIC ---
        let currentImages = [];
        let currentIndex = 0;

        function openLightbox(imgElement) {
            const lightbox = document.getElementById('lightbox');
            const prevBtn = document.querySelector('.nav-btn.prev');
            const nextBtn = document.querySelector('.nav-btn.next');

            // Find context (Gallery vs Hero)
            const galleryContainer = imgElement.closest('.section-gallery') || imgElement.closest('.hero-media-wrapper');
            if (galleryContainer) {
                currentImages = Array.from(galleryContainer.querySelectorAll('img'));
            } else {
                currentImages = [imgElement];
            }

            currentIndex = currentImages.indexOf(imgElement);
            updateLightboxContent();

            if (currentImages.length > 1) {
                prevBtn.style.display = 'block';
                nextBtn.style.display = 'block';
            } else {
                prevBtn.style.display = 'none';
                nextBtn.style.display = 'none';
            }

            lightbox.classList.add('show');
            document.body.style.overflow = 'hidden'; 
        }

        function changeImage(direction, event) {
            if(event) event.stopPropagation();
            currentIndex = (currentIndex + direction + currentImages.length) % currentImages.length;
            updateLightboxContent();
        }

        function updateLightboxContent() {
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxVideo = document.getElementById('lightbox-video');
            const currentEl = currentImages[currentIndex];
            const videoSrc = currentEl.getAttribute('data-video');

            lightboxImg.style.animation = 'none';
            lightboxVideo.style.animation = 'none';
            void lightboxImg.offsetWidth; 

            if (videoSrc) {
                lightboxImg.style.display = 'none';
                lightboxVideo.style.display = 'block';
                const sep = videoSrc.includes('?') ? '&' : '?';
                lightboxVideo.src = videoSrc + sep + "autoplay=1&rel=0";
            } else {
                lightboxVideo.style.display = 'none';
                lightboxVideo.src = ""; 
                lightboxImg.style.display = 'block';
                lightboxImg.src = currentEl.src;
            }
        }

        function closeLightbox(event) {
            if (event.target.id === 'lightbox' || 
                event.target.classList.contains('close-btn') ||
                event.target.classList.contains('lightbox-content-wrapper')) {
                
                const lightbox = document.getElementById('lightbox');
                const lightboxVideo = document.getElementById('lightbox-video');
                
                lightbox.classList.remove('show');
                document.body.style.overflow = '';
                
                if(lightboxVideo) lightboxVideo.src = "";
            }
        }

        document.addEventListener('keydown', (event) => {
            if (!document.getElementById('lightbox').classList.contains('show')) return;
            if (event.key === "Escape") closeLightbox({ target: { id: 'lightbox' } }); 
            if (event.key === "ArrowLeft") changeImage(-1);
            if (event.key === "ArrowRight") changeImage(1);
        });
    </script>

    <!-- Components & Scripts -->
    <script src="../js/navbar.js"></script>
    <script src="../js/footer.js"></script>
    <script src="../js/scroll-animations.js"></script>
</body>
</html>
